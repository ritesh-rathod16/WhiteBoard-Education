<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhiteBoard Education with PowerPoint Tools</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Previous CSS remains the same, just add these new styles */
        
        /* PowerPoint-style Ribbon */
        .ribbon {
            background-color: #f3f3f3;
            border-bottom: 1px solid #d9d9d9;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .ribbon-tabs {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .ribbon-tab {
            padding: 10px 15px;
            cursor: pointer;
            font-size: 14px;
            color: #333;
            position: relative;
        }
        
        .ribbon-tab.active {
            background-color: #fff;
            border: 1px solid #d9d9d9;
            border-bottom: 1px solid #fff;
            border-top: 2px solid #4a6bff;
            margin-top: -1px;
        }
        
        .ribbon-content {
            display: none;
            background-color: #fff;
            padding: 10px;
            border: 1px solid #d9d9d9;
            border-top: none;
        }
        
        .ribbon-content.active {
            display: block;
        }
        
        .toolbar-group {
            margin-bottom: 15px;
        }
        
        .toolbar-group-title {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
            padding-left: 5px;
        }
        
        .toolbar-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .toolbar-button {
            background: none;
            border: none;
            padding: 5px 8px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
            border-radius: 4px;
        }
        
        .toolbar-button:hover {
            background-color: #e6e6e6;
        }
        
        .toolbar-button i {
            font-size: 16px;
            margin-bottom: 3px;
            color: #333;
        }
        
        .toolbar-button span {
            font-size: 11px;
            color: #333;
        }
        
        /* Adjust main container to accommodate ribbon */
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
            flex-direction: column;
        }
        
        .whiteboard-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }
        
        /* Status bar */
        .status-bar {
            background-color: #f3f3f3;
            border-top: 1px solid #d9d9d9;
            padding: 5px 10px;
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #333;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo-container">
            <img src="https://sigmawire.net/i/04/itNgcI.png" alt="WhiteBoard Education Logo" class="logo">
            <span class="app-name">WhiteBoard Education</span>
        </div>
        <div class="user-count">
            <i class="fas fa-users"></i>
            <span id="userCount">1</span>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- PowerPoint-style Ribbon -->
        <div class="ribbon">
            <ul class="ribbon-tabs">
                <li class="ribbon-tab active" data-tab="home">Home</li>
                <li class="ribbon-tab" data-tab="insert">Insert</li>
                <li class="ribbon-tab" data-tab="design">Design</li>
                <li class="ribbon-tab" data-tab="transitions">Transitions</li>
                <li class="ribbon-tab" data-tab="animations">Animations</li>
                <li class="ribbon-tab" data-tab="slideshow">Slide Show</li>
                <li class="ribbon-tab" data-tab="review">Review</li>
                <li class="ribbon-tab" data-tab="view">View</li>
            </ul>
            
            <div class="ribbon-content active" id="homeTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Clipboard</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Cut">
                            <i class="fas fa-cut"></i>
                            <span>Cut</span>
                        </button>
                        <button class="toolbar-button" title="Copy">
                            <i class="fas fa-copy"></i>
                            <span>Copy</span>
                        </button>
                        <button class="toolbar-button" title="Paste">
                            <i class="fas fa-paste"></i>
                            <span>Paste</span>
                        </button>
                        <button class="toolbar-button" title="Format Painter">
                            <i class="fas fa-paint-brush"></i>
                            <span>Format Painter</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Slides</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" id="addSlideBtn" title="New Slide">
                            <i class="fas fa-plus-square"></i>
                            <span>New Slide</span>
                        </button>
                        <button class="toolbar-button" title="Layout">
                            <i class="fas fa-th-large"></i>
                            <span>Layout</span>
                        </button>
                        <button class="toolbar-button" title="Reset">
                            <i class="fas fa-undo"></i>
                            <span>Reset</span>
                        </button>
                        <button class="toolbar-button" id="deleteSlideBtn" title="Delete">
                            <i class="fas fa-trash"></i>
                            <span>Delete</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Font</div>
                    <div class="toolbar-buttons">
                        <select class="toolbar-button" style="padding: 0; height: 50px;">
                            <option>Arial</option>
                            <option>Calibri</option>
                            <option>Times New Roman</option>
                        </select>
                        <select class="toolbar-button" style="padding: 0; height: 50px;">
                            <option>12</option>
                            <option>14</option>
                            <option>18</option>
                            <option>24</option>
                            <option>36</option>
                        </select>
                        <button class="toolbar-button" title="Bold">
                            <i class="fas fa-bold"></i>
                            <span>Bold</span>
                        </button>
                        <button class="toolbar-button" title="Italic">
                            <i class="fas fa-italic"></i>
                            <span>Italic</span>
                        </button>
                        <button class="toolbar-button" title="Underline">
                            <i class="fas fa-underline"></i>
                            <span>Underline</span>
                        </button>
                        <button class="toolbar-button" title="Text Shadow">
                            <i class="fas fa-text-height"></i>
                            <span>Shadow</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Paragraph</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Bullets">
                            <i class="fas fa-list-ul"></i>
                            <span>Bullets</span>
                        </button>
                        <button class="toolbar-button" title="Numbering">
                            <i class="fas fa-list-ol"></i>
                            <span>Numbering</span>
                        </button>
                        <button class="toolbar-button" title="Align Left">
                            <i class="fas fa-align-left"></i>
                            <span>Left</span>
                        </button>
                        <button class="toolbar-button" title="Center">
                            <i class="fas fa-align-center"></i>
                            <span>Center</span>
                        </button>
                        <button class="toolbar-button" title="Align Right">
                            <i class="fas fa-align-right"></i>
                            <span>Right</span>
                        </button>
                        <button class="toolbar-button" title="Line Spacing">
                            <i class="fas fa-arrows-alt-v"></i>
                            <span>Line Spacing</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Drawing</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Shapes">
                            <i class="fas fa-shapes"></i>
                            <span>Shapes</span>
                        </button>
                        <button class="toolbar-button" title="Arrange">
                            <i class="fas fa-layer-group"></i>
                            <span>Arrange</span>
                        </button>
                        <button class="toolbar-button" title="Quick Styles">
                            <i class="fas fa-palette"></i>
                            <span>Quick Styles</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="insertTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Tables</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Insert Table">
                            <i class="fas fa-table"></i>
                            <span>Table</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Images</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" id="insertPictureBtn" title="Pictures">
                            <i class="fas fa-image"></i>
                            <span>Pictures</span>
                        </button>
                        <button class="toolbar-button" title="Online Pictures">
                            <i class="fas fa-cloud"></i>
                            <span>Online</span>
                        </button>
                        <button class="toolbar-button" title="Screenshot">
                            <i class="fas fa-camera"></i>
                            <span>Screenshot</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Illustrations</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Shapes">
                            <i class="fas fa-shapes"></i>
                            <span>Shapes</span>
                        </button>
                        <button class="toolbar-button" title="Icons">
                            <i class="fas fa-icons"></i>
                            <span>Icons</span>
                        </button>
                        <button class="toolbar-button" title="3D Models">
                            <i class="fas fa-cube"></i>
                            <span>3D Models</span>
                        </button>
                        <button class="toolbar-button" title="SmartArt">
                            <i class="fas fa-project-diagram"></i>
                            <span>SmartArt</span>
                        </button>
                        <button class="toolbar-button" title="Charts">
                            <i class="fas fa-chart-bar"></i>
                            <span>Charts</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Links</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Hyperlink">
                            <i class="fas fa-link"></i>
                            <span>Link</span>
                        </button>
                        <button class="toolbar-button" title="Bookmark">
                            <i class="fas fa-bookmark"></i>
                            <span>Bookmark</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Text</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Text Box">
                            <i class="fas fa-square"></i>
                            <span>Text Box</span>
                        </button>
                        <button class="toolbar-button" title="Header & Footer">
                            <i class="fas fa-heading"></i>
                            <span>Header/Footer</span>
                        </button>
                        <button class="toolbar-button" title="WordArt">
                            <i class="fas fa-font"></i>
                            <span>WordArt</span>
                        </button>
                        <button class="toolbar-button" title="Date & Time">
                            <i class="fas fa-clock"></i>
                            <span>Date & Time</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Media</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Audio">
                            <i class="fas fa-music"></i>
                            <span>Audio</span>
                        </button>
                        <button class="toolbar-button" title="Video">
                            <i class="fas fa-video"></i>
                            <span>Video</span>
                        </button>
                        <button class="toolbar-button" title="Screen Recording">
                            <i class="fas fa-desktop"></i>
                            <span>Screen Record</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="designTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Themes</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Themes">
                            <i class="fas fa-palette"></i>
                            <span>Themes</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Variants</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Colors">
                            <i class="fas fa-fill-drip"></i>
                            <span>Colors</span>
                        </button>
                        <button class="toolbar-button" title="Fonts">
                            <i class="fas fa-font"></i>
                            <span>Fonts</span>
                        </button>
                        <button class="toolbar-button" title="Effects">
                            <i class="fas fa-magic"></i>
                            <span>Effects</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Customize</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Slide Size">
                            <i class="fas fa-expand"></i>
                            <span>Slide Size</span>
                        </button>
                        <button class="toolbar-button" title="Format Background">
                            <i class="fas fa-sliders-h"></i>
                            <span>Format Background</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="transitionsTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Transition Effects</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Fade">
                            <i class="fas fa-adjust"></i>
                            <span>Fade</span>
                        </button>
                        <button class="toolbar-button" title="Push">
                            <i class="fas fa-arrow-right"></i>
                            <span>Push</span>
                        </button>
                        <button class="toolbar-button" title="Wipe">
                            <i class="fas fa-broom"></i>
                            <span>Wipe</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Timing</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Duration">
                            <i class="fas fa-clock"></i>
                            <span>Duration</span>
                        </button>
                        <button class="toolbar-button" title="Sound">
                            <i class="fas fa-volume-up"></i>
                            <span>Sound</span>
                        </button>
                        <button class="toolbar-button" title="Advance Slide">
                            <i class="fas fa-forward"></i>
                            <span>Advance Slide</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="animationsTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Animation Effects</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Entrance">
                            <i class="fas fa-arrow-down"></i>
                            <span>Entrance</span>
                        </button>
                        <button class="toolbar-button" title="Emphasis">
                            <i class="fas fa-star"></i>
                            <span>Emphasis</span>
                        </button>
                        <button class="toolbar-button" title="Exit">
                            <i class="fas fa-arrow-up"></i>
                            <span>Exit</span>
                        </button>
                        <button class="toolbar-button" title="Motion Paths">
                            <i class="fas fa-route"></i>
                            <span>Motion Paths</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Advanced Animation</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Add Animation">
                            <i class="fas fa-plus-circle"></i>
                            <span>Add Animation</span>
                        </button>
                        <button class="toolbar-button" title="Animation Pane">
                            <i class="fas fa-list"></i>
                            <span>Animation Pane</span>
                        </button>
                        <button class="toolbar-button" title="Trigger">
                            <i class="fas fa-bolt"></i>
                            <span>Trigger</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Timing</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Start">
                            <i class="fas fa-play"></i>
                            <span>Start</span>
                        </button>
                        <button class="toolbar-button" title="Duration">
                            <i class="fas fa-clock"></i>
                            <span>Duration</span>
                        </button>
                        <button class="toolbar-button" title="Delay">
                            <i class="fas fa-hourglass-start"></i>
                            <span>Delay</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="slideshowTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Start Slide Show</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="From Beginning">
                            <i class="fas fa-play"></i>
                            <span>From Beginning</span>
                        </button>
                        <button class="toolbar-button" title="From Current Slide">
                            <i class="fas fa-forward"></i>
                            <span>From Current</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Set Up</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Rehearse Timings">
                            <i class="fas fa-stopwatch"></i>
                            <span>Rehearse Timings</span>
                        </button>
                        <button class="toolbar-button" title="Record Slide Show">
                            <i class="fas fa-record-vinyl"></i>
                            <span>Record</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Monitors</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Presenter View">
                            <i class="fas fa-desktop"></i>
                            <span>Presenter View</span>
                        </button>
                        <button class="toolbar-button" title="Resolution">
                            <i class="fas fa-tv"></i>
                            <span>Resolution</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="reviewTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Proofing</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Spelling">
                            <i class="fas fa-spell-check"></i>
                            <span>Spelling</span>
                        </button>
                        <button class="toolbar-button" title="Thesaurus">
                            <i class="fas fa-book"></i>
                            <span>Thesaurus</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Language</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Translate">
                            <i class="fas fa-language"></i>
                            <span>Translate</span>
                        </button>
                        <button class="toolbar-button" title="Language">
                            <i class="fas fa-globe"></i>
                            <span>Language</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Comments</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="New Comment">
                            <i class="fas fa-comment"></i>
                            <span>New Comment</span>
                        </button>
                        <button class="toolbar-button" title="Edit Comment">
                            <i class="fas fa-edit"></i>
                            <span>Edit</span>
                        </button>
                        <button class="toolbar-button" title="Delete Comment">
                            <i class="fas fa-trash"></i>
                            <span>Delete</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="ribbon-content" id="viewTab">
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Presentation Views</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Normal">
                            <i class="fas fa-th"></i>
                            <span>Normal</span>
                        </button>
                        <button class="toolbar-button" title="Outline">
                            <i class="fas fa-align-left"></i>
                            <span>Outline</span>
                        </button>
                        <button class="toolbar-button" title="Slide Sorter">
                            <i class="fas fa-th-large"></i>
                            <span>Slide Sorter</span>
                        </button>
                        <button class="toolbar-button" title="Notes Page">
                            <i class="fas fa-sticky-note"></i>
                            <span>Notes Page</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Master Views</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Slide Master">
                            <i class="fas fa-sliders-h"></i>
                            <span>Slide Master</span>
                        </button>
                        <button class="toolbar-button" title="Handout Master">
                            <i class="fas fa-file-alt"></i>
                            <span>Handout Master</span>
                        </button>
                        <button class="toolbar-button" title="Notes Master">
                            <i class="fas fa-sticky-note"></i>
                            <span>Notes Master</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Zoom</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Zoom In">
                            <i class="fas fa-search-plus"></i>
                            <span>Zoom In</span>
                        </button>
                        <button class="toolbar-button" title="Zoom Out">
                            <i class="fas fa-search-minus"></i>
                            <span>Zoom Out</span>
                        </button>
                    </div>
                </div>
                
                <div class="toolbar-group">
                    <div class="toolbar-group-title">Color/Grayscale</div>
                    <div class="toolbar-buttons">
                        <button class="toolbar-button" title="Color">
                            <i class="fas fa-palette"></i>
                            <span>Color</span>
                        </button>
                        <button class="toolbar-button" title="Grayscale">
                            <i class="fas fa-adjust"></i>
                            <span>Grayscale</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Whiteboard Area -->
        <div class="whiteboard-container">
            <div class="whiteboard-header">
                <div class="page-controls">
                    <button class="page-btn" id="prevPage" disabled>
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <span class="page-indicator">Page <span id="currentPage">1</span> of <span id="totalPages">1</span></span>
                    <button class="page-btn" id="nextPage" disabled>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div>
                    <button class="page-btn" id="addPage">
                        <i class="fas fa-plus"></i> Add Page
                    </button>
                    <button class="page-btn" id="duplicatePage">
                        <i class="fas fa-copy"></i> Duplicate
                    </button>
                    <button class="page-btn" id="deletePage">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                    <div class="recording-indicator" id="recordingIndicator" style="display: none;">
                        <div class="recording-dot"></div>
                        <span>Recording</span>
                    </div>
                </div>
            </div>
            <div class="whiteboard-area">
                <canvas id="whiteboard"></canvas>
                <div id="cursors"></div>
                <div id="draggableElements"></div>
                <button class="fullscreen-btn" id="fullscreenBtn">
                    <i class="fas fa-expand"></i>
                </button>
                <button class="invite-btn" id="inviteBtn">
                    <i class="fas fa-user-plus"></i>
                    <span>Invite</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div>Slide 1 of 1</div>
        <div>English (United States)</div>
    </div>

    <!-- Right Sidebar -->
    <div class="right-sidebar" id="rightSidebar">
        <div class="sidebar-tabs">
            <div class="tab-btn active" data-tab="participants">Participants</div>
            <div class="tab-btn" data-tab="video">Video</div>
            <div class="tab-btn" data-tab="chat">Chat</div>
        </div>
        
        <div class="tab-content active" id="participantsTab">
            <div class="participant">
                <div class="participant-avatar">Y</div>
                <div class="participant-info">
                    <div class="participant-name">You (Host)</div>
                    <div class="participant-role">Host</div>
                </div>
                <div class="participant-controls">
                    <button class="control-btn" title="Mute">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="control-btn" title="Stop Video">
                        <i class="fas fa-video"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="videoTab">
            <div class="video-container">
                <div class="video-item">
                    <video id="localVideo" autoplay muted></video>
                    <div class="video-info">
                        <span class="video-name">You</span>
                        <div class="video-controls">
                            <button class="video-control-btn" id="toggleMic">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button class="video-control-btn" id="toggleVideo">
                                <i class="fas fa-video"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="chatTab">
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages"></div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Type your message...">
                    <button class="chat-send-btn" id="chatSendBtn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Controls Bar -->
    <div class="controls-bar">
        <div class="control-group">
            <button class="control-btn-main" id="micControl">
                <i class="fas fa-microphone"></i>
                <span>Mic</span>
            </button>
            <button class="control-btn-main" id="videoControl">
                <i class="fas fa-video"></i>
                <span>Video</span>
            </button>
            <button class="control-btn-main" id="screenShareControl">
                <i class="fas fa-desktop"></i>
                <span>Share</span>
            </button>
        </div>
        
        <div class="control-group">
            <button class="control-btn-main" id="participantsControl">
                <i class="fas fa-users"></i>
                <span>Participants</span>
            </button>
            <button class="control-btn-main" id="raiseHandControl">
                <i class="fas fa-hand-paper"></i>
                <span>Raise Hand</span>
            </button>
            <button class="control-btn-main" id="reactionsControl">
                <i class="fas fa-smile"></i>
                <span>Reactions</span>
            </button>
        </div>
        
        <div class="control-group">
            <div class="more-menu">
                <button class="control-btn-main" id="moreControl">
                    <i class="fas fa-ellipsis-h"></i>
                    <span>More</span>
                </button>
                <div class="more-options">
                    <div class="more-option" id="recordOption">
                        <i class="fas fa-record-vinyl"></i>
                        <span>Record</span>
                    </div>
                    <div class="more-option" id="settingsOption">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                    <div class="more-option" id="leaveOption">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Leave</span>
                    </div>
                </div>
            </div>
            <button class="control-btn-main" id="endMeetingControl">
                <i class="fas fa-phone-slash"></i>
                <span>End</span>
            </button>
        </div>
    </div>

    <!-- All modals remain the same as in your original code -->

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Previous JavaScript remains the same, just add these new functions
            
            // Ribbon Tab Switching
            const ribbonTabs = document.querySelectorAll('.ribbon-tab');
            const ribbonContents = document.querySelectorAll('.ribbon-content');
            
            ribbonTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs and contents
                    ribbonTabs.forEach(t => t.classList.remove('active'));
                    ribbonContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding content
                    tab.classList.add('active');
                    const tabId = tab.getAttribute('data-tab') + 'Tab';
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Toolbar Button Functionality
            document.getElementById('addSlideBtn').addEventListener('click', addNewPage);
            document.getElementById('deleteSlideBtn').addEventListener('click', deleteCurrentPage);
            document.getElementById('insertPictureBtn').addEventListener('click', () => {
                document.getElementById('imageModal').style.display = 'flex';
            });
            
            // Initialize the application
            initWhiteboard();
            initSocketConnection();
            initWebRTC();
            
            // All other existing functions remain the same
            function initWhiteboard() {
                resizeCanvas();
                
                state.whiteboards[1] = {
                    data: null,
                    thumbnail: null
                };
                state.undoStack[1] = [];
                state.redoStack[1] = [];
                
                const savedWhiteboard = localStorage.getItem('whiteboard-education');
                if (savedWhiteboard) {
                    const confirmLoad = confirm('Do you want to continue from your previous whiteboard session?');
                    if (confirmLoad) {
                        loadWhiteboard(JSON.parse(savedWhiteboard));
                    }
                }
                
                setInterval(() => {
                    saveWhiteboardToLocalStorage();
                }, 30000);
                
                window.addEventListener('beforeunload', (e) => {
                    saveWhiteboardToLocalStorage();
                    if (state.isHost) {
                        return undefined;
                    }
                    e.preventDefault();
                    e.returnValue = '';
                    return 'You have unsaved changes. Are you sure you want to leave?';
                });
            }
            
            // ... rest of your existing JavaScript functions ...
        });
    </script>
</body>
</html>
